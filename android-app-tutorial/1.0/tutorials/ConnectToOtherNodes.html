

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connect To Other Carrier Nodes &mdash; Documentation for android app developers 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
        <script type="text/javascript" src="../_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="../_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
        <script type="text/javascript" src="../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Streaming Setup" href="StreamingSetup.html" />
    <link rel="prev" title="Create A Carrier Instance" href="CreateACarrier.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #78C257" >
          

          
            <a href="../index.html" class="icon icon-home"> Documentation for android app developers
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">OverView:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="CreateACarrier.html">Create A Carrier Instance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Connect To Other Carrier Nodes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-carrier-node-address">Get Carrier Node Address</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-friend">Add Friend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accept-friend">Accept Friend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#remove-friend">Remove Friend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#carrier-node-information">Carrier Node Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connection-status">Connection Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="StreamingSetup.html">Streaming Setup</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Documentation for android app developers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Connect To Other Carrier Nodes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="connect-to-other-carrier-nodes">
<h1>Connect To Other Carrier Nodes<a class="headerlink" href="#connect-to-other-carrier-nodes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This section will show you how to establish connections with other carrier nodes.</p>
</div>
<div class="section" id="get-carrier-node-address">
<h2>Get Carrier Node Address<a class="headerlink" href="#get-carrier-node-address" title="Permalink to this headline">¶</a></h2>
<p>If you want to connect to other carrier nodes, you must have the address of the other carrier node.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getAddress</span><span class="o">();</span> <span class="c1">// return a string</span>
</pre></div>
</div>
</div>
<div class="section" id="add-friend">
<h2>Add Friend<a class="headerlink" href="#add-friend" title="Permalink to this headline">¶</a></h2>
<p>If you have the address of other carrier nodes, you can call <code class="docutils literal notranslate"><span class="pre">addFriend()</span></code> to add other carrier nodes.
After adding, callback <code class="docutils literal notranslate"><span class="pre">onFriendAdded</span></code> will be called. As follows:</p>
<a class=""
               data-lightbox="group-90350d2d-fce3-4de5-9dee-dd2e540dc28a"
               href="../_images/image01-11.svg"
               title=""
               data-title=""
               ><img src="../_images/image01-11.svg"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">addFriend</span><span class="o">(</span><span class="n">address</span><span class="o">,</span> <span class="n">message</span><span class="o">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">address</span></code> : The target user address of remote carrier node.</p>
<p><code class="docutils literal notranslate"><span class="pre">message</span></code> : PIN for target user, or any application defined content.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFriendAdded</span><span class="o">(</span><span class="n">Carrier</span> <span class="n">carrier</span><span class="o">,</span> <span class="n">FriendInfo</span> <span class="n">info</span><span class="o">)</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">carrier</span></code> : A handle to the Carrier node instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">info</span></code> : Information of added friends.</p>
</div>
<div class="section" id="accept-friend">
<h2>Accept Friend<a class="headerlink" href="#accept-friend" title="Permalink to this headline">¶</a></h2>
<p>When a request from another node is received,
the callback <code class="docutils literal notranslate"><span class="pre">onFriendRequest</span></code> will be called.
If you want to accept the request, you can call <code class="docutils literal notranslate"><span class="pre">acceptFriend()</span></code>.
After accepting, callback <code class="docutils literal notranslate"><span class="pre">onFriendAdded</span></code> will be called. As follows:</p>
<a class=""
               data-lightbox="group-f1d7ef4c-ae02-40ff-ba8a-1fbc6ffa4821"
               href="../_images/image01-21.svg"
               title=""
               data-title=""
               ><img src="../_images/image01-21.svg"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFriendRequest</span><span class="o">(</span><span class="n">Carrier</span> <span class="n">carrier</span><span class="o">,</span> <span class="n">String</span> <span class="n">userId</span><span class="o">,</span> <span class="n">UserInfo</span> <span class="n">userInfo</span><span class="o">,</span> <span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">carrier</span></code> : A handle to the Carrier node instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">userId</span></code> : The user id who want be friend with current user.</p>
<p><code class="docutils literal notranslate"><span class="pre">userInfo</span></code> : The user information to userId.</p>
<p><code class="docutils literal notranslate"><span class="pre">message</span></code> : The PIN for target user, or any application defined content.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">acceptFriend</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">userId</span></code> : The user id who want be friend with us.</p>
</div>
<div class="section" id="remove-friend">
<h2>Remove Friend<a class="headerlink" href="#remove-friend" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">removeFriend()</span></code> to delete a friend,
and the callback <code class="docutils literal notranslate"><span class="pre">onFriendRemoved</span></code> will be called after the deletion is successful.
As follows:</p>
<a class=""
               data-lightbox="group-850fdda7-c675-40d7-9b78-df17131b539b"
               href="../_images/image01-31.svg"
               title=""
               data-title=""
               ><img src="../_images/image01-31.svg"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">removeFriend</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">userId</span></code> :  The target user id to remove friendship.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFriendRemoved</span><span class="o">(</span><span class="n">Carrier</span> <span class="n">carrier</span><span class="o">,</span> <span class="n">String</span> <span class="n">friendId</span><span class="o">)</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">carrier</span></code> : Carrier node instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">friendId</span></code> : The friend’s user id.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Adding a friend uses the <strong>address ID</strong> but deleting a friend uses the <strong>user ID</strong>.</p>
</div>
</div>
<div class="section" id="carrier-node-information">
<h2>Carrier Node Information<a class="headerlink" href="#carrier-node-information" title="Permalink to this headline">¶</a></h2>
<p>If you need to get all friends information, you can use <code class="docutils literal notranslate"><span class="pre">getFriends()</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getFriends</span><span class="o">();</span> <span class="c1">// return a list of FriendInfo structure</span>
</pre></div>
</div>
<p>Update self user information, you can use <code class="docutils literal notranslate"><span class="pre">setSelfInfo()</span></code>.
After self user information changed,
carrier node will update this information to carrier network,
and thereupon network broadcasts the change to all friends,
and the friends who receive the change will call callback <code class="docutils literal notranslate"><span class="pre">onFriendInfoChanged</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Carrier</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">setSelfInfo</span><span class="o">(</span><span class="n">userInfo</span><span class="o">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">userInfo</span></code> : The user information to update for this carrier node.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFriendInfoChanged</span><span class="o">(</span><span class="n">Carrier</span> <span class="n">carrier</span><span class="o">,</span> <span class="n">String</span> <span class="n">friendId</span><span class="o">,</span> <span class="n">FriendInfo</span> <span class="n">info</span><span class="o">)</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">carrier</span></code> : Carrier node instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">friendId</span></code> : The friend’s user id.</p>
<p><code class="docutils literal notranslate"><span class="pre">info</span></code> : The update friend information.</p>
</div>
<div class="section" id="connection-status">
<h2>Connection Status<a class="headerlink" href="#connection-status" title="Permalink to this headline">¶</a></h2>
<p>When the connection status with other carrier nodes changes,
callback <code class="docutils literal notranslate"><span class="pre">onFriendConnection</span></code> will be called.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFriendConnection</span><span class="o">(</span><span class="n">Carrier</span> <span class="n">carrier</span><span class="o">,</span> <span class="n">String</span> <span class="n">friendId</span><span class="o">,</span> <span class="n">ConnectionStatus</span> <span class="n">status</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// status =</span>
        <span class="c1">// ConnectionStatus.Connected</span>
        <span class="c1">// or</span>
        <span class="c1">// ConnectionStatus.Disconnected</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">carrier</span></code> : A handle to the Carrier node instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">friendId</span></code> : The friend’s user id.</p>
<p><code class="docutils literal notranslate"><span class="pre">status</span></code> : The connection status of friend.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="StreamingSetup.html" class="btn btn-neutral float-right" title="Streaming Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="CreateACarrier.html" class="btn btn-neutral float-left" title="Create A Carrier Instance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, 喆立聯網股份有限公司 IOEX Co.,Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>